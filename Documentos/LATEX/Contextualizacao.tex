%---------- Inicio do Texto ----------
% recomenda-se a escrita de cada capitulo em um arquivo texto separado (exemplo: intro.tex, fund.tex, exper.tex, concl.tex, etc.) e a posterior inclusao dos mesmos no mestre do documento utilizando o comando \input{}, da seguinte forma:
%\input{intro.tex}
%\input{fund.tex}
%\input{exper.tex}
%\input{concl.tex}

\def\inputGnumericTable{}  

%---------- Segundo Capitulo ----------
\chapter{Contextualização do Projeto}\label{chap:desenv}

\section{Definição do Escopo}

\subsection{Concorrentes}
Após pesquisa efetuada através da web e junto aos potenciais clientes do projeto SIAER, não se verificou a ocorrência de um concorrente que ofereça uma solução abrangendo a plenitude dos aspectos cobertos pelo produto alvo deste plano de negocio, voltada especificamente ao setor rodoviário. Dentro deste cenário, buscaram-se serviços similares para outros ramos da indústria logística.

Como primeira concorrente, pode-se mencionar o LocWise fornecido pela empresa paulista LocWise. Este serviço e ofertado ao cliente através de um software rodando em plataforma Web, o qual mediante o acesso a um servidor central possibilita, segundo o site, "um ambiente completo de visibilidade do processo logístico". Diferentemente do projeto SIAER, o LocWise e voltado para o segmento de transporte de cargas, estando integralmente inserido na esfera de uma solução em software.

Em um segundo momento, surge o "Software Logística e Rastreamento de Cargas" oferecido pela paulista W2 Software. Assim como o concorrente anterior, trata-se de uma solução de plataforma web utilizado para gerenciar demandas de carga, fornecedores e gerar acompanhamento da carga a partir do status de entregas efetuadas.

Outra empresa que possui um sistema similar e a transportadora Braspress, a qual possui um sistema de rastreamento que possibilita localização do pacote a cada instante através de uma combinação GPS + Radio. No entanto, seu sistema e especifico para a frota daquela companhia.

A concorrente que mais se aproxima dos serviços oferecidos pelo SIAER e a empresa goiana Marx - tecnologia e design. A solução ofertada e composta por um software de controle, um ou mais leitores RFID, e de Tags RFID específicas para cada tipo de item a ser rastreado.

Todas as empresas citadas buscam de alguma forma ajudar no processo logístico. No entanto, em nenhuma delas ocorre integração ônibus-guichê e a comunicação em tempo real, fatores que diferenciam este projeto dos demais encontrados. Isto mostra que há poucos, quiçá nenhum, concorrente direto, o qual forneça a solução com base nas mesmas premissas e com mesmo foco de clientes.

\subsection{Mercado}
O nicho de mercado visado por este projeto é bem específico. São empresas de transporte rodoviário de ônibus que visando aumentar seus lucros e utilizando de sua expertise logística, passaram a transportar em seus bagageiros também encomendas. Tal ramo ainda é recente no Brasil. Como estas empresas são novas neste mercado, elas não possuem um sistema automatizado de rastreamento das encomendas. Isto torna seus processos altamente sujeitos a falhas humanas, as quais geram custos extras e diminuem seus lucros. Segundo dados do IBGE, a receita operacional da movimentação de encomendas feitas por empresas de ônibus, movimentou 173 milhões de reais 2006, subindo para 199 milhões de reais em 2007. Isto mostra o tamanho e o potencial de crescimento deste mercado.  

Visando a proximidade com o cliente e o real entendimento do processo, realizaram-se visitas a sede de Curitiba a uma das maiores empresas do ramo, assim como visitas à estação rodoferroviária de Curitiba para conversar com os verdadeiros envolvidos neste processo. Em todas as visitas a recepção foi muito boa, sendo que os potenciais clientes se mostraram favoráveis a um sistema que auxilie seus processos.

\subsection{Patentes}
Abordam-se aqui quais as patentes que se inserem no mesmo contexto de aplicação que o projeto a ser desenvolvido. Devido à sua especificidade de aplicação no cenário de transporte de encomendas rodoviárias, não foi encontrada uma patente que englobe plenamente o cenário de aplicação proposto. 

Desta forma, procurou-se abordar as patentes que possuem foco no sentido de introduzir acompanhamento de pacotes numa rede logística estabelecida. No texto haverá uma breve descrição sobre a patente em si e posteriormente explicam-se semelhanças e diferenças com o projeto.

\begin{itemize}
	\item \textbf{\textit{Luggage Tracking System}}
	
Número de publicação: GB2389836
	
Local de Depósito: Base Européia
	
Data de publicação: 24/12/2003
	
Inventores: DALBY ADAM JAMES ROBERT [GB]; TIMSON ANTHONY RICHARD [GB]; RUSH STEPHEN DAVID [GB]

Empresa: Ilustra Systems LTD

Classificação: A45C13/42 (Dispositivos para identificação de bagagem)

Esta patente foi publicada na Grã-Bretanha no ano de 2003 e integra-se no contexto do rastreamento de bagagens. Prevê-se a criação de uma etiqueta a qual possuirá um símbolo de identificação cujo conteúdo se relacionaria a dados relevantes do portador da bagagem, como nome, endereço \textit{et cetera}. Este símbolo de identificação consistirá basicamente de um elemento visual, o qual conteria os dados de forma escrita e clara, aliado a um código de barras ou a um microchip.

Na descrição da patente, ressalta-se o seu uso em diversos cenários de transportes, tais como os meios aéreo e terrestre. Descreve-se ainda a necessidade da existência de um posto central de rastreamento nos pontos relevantes, de tal forma que se possua um dispositivo que torne viável a obtenção dos dados relacionados ao portador da bagagem.

Como semelhança com o projeto SIAER, pode-se ressaltar a utilização de um mecanismo baseado em etiquetas de código de barras como meio de se obter informações relevantes sobre o ente logístico em trânsito. Desta forma, a patente supracitada focaliza sobre a construção e a disposição visual dos elementos na etiqueta, diferentemente do projeto proposto, no qual a etiqueta constitui-se em etapa inicial apenas.

\item \textbf{\textit{Method and apparatus for preventing luggage mishandling in public transportation systems}}

Número de publicação: WO2007120266

Local de Depósito: Base Americana

Data de publicação: 25/10/2007

Inventores: JOHNSON JEFFERY DOUGLAS [AU]; CORLE GENE ALLEN [US]

Empresa: LUGGAGE GUARDIAN INTERNATIONAL [US]; DOUGLAS MACHINE INC [US]; JOHNSON JEFFERY DOUGLAS [AU]; CORLE GENE ALLEN [US]

Classificação: B64F1/36C (instalações para o manejo de bagagens) e G06Q10/00D (Ad-ministração de processo logístico, por exemplo armazenagem e distribuição)

Esta patente apresenta de forma muito específica um método e um conjunto de dispositivos cujas ações têm por objetivo reduzir o extravio de bagagens. Prevê-se a existência de um posto de \textit{check-in}, no qual a bagagem recebe uma etiqueta indicadora com seus dados mais relevantes, tais como seu proprietário e a rota percorrida. Em um aeroporto, por exemplo, após a afixação desta etiqueta, a mala percorreria um circuito de esteiras rolantes o qual possui um dispositivo que verifica a rota da bagagem: caso esta precise ser descarregada, ela será automaticamente redirecionada a uma esteira específica que fará o desembarque na localidade.

Como aspecto congruente, pode-se dizer que tanto esta patente como o projeto em questão introduzem a normalização do método de embarque e desembarque dos pacotes a fim de possibilitar o seu rastreamento. Outro aspecto a ser ressaltado é que esta patente também possui foco em evitar o extravio da encomenda.

Como diferenças, inicialmente há de ser afirmado que a patente supracitada destina-se a bagagens em ambientes públicos de transporte, ao passo que o projeto SIAER aborda encomendas transportadas sobre o meio rodoviário. Ainda, a patente introduz uma esteira capaz de direcionar os pacotes adequadamente a partir de uma etiqueta RFID, enquanto que o projeto se adapta ao cenário do sistema rodoviário, mantendo a figura do operador em conjunto com um código de barras.

	\item \textbf{\textit{SYSTEM AND METHOD FOR TRACKING LUGGAGE DURING TRAVEL }}
	
Número de publicação: WO20090115572

Local de Depósito: Base Americana

Data de publicação: 07/05/2009

Inventores: Valbh; Anil I.;; Chhaganlal; Kiran C. 

Classificação: H04Q001/30, G08B005/22, H04Q007/00

Em linhas gerais, esta patente tem por base a introdução de confiabilidade no acompanhamento de bagagens dentro do contexto turístico. O sistema ao qual a patente se refere prevê a afixação de um \textit{tag} nas bagagens contendo RFID e um código de barras. A bagagem, ao adentrar a uma estação de controle central, seria identificada e caso este fosse seu destino final, o sistema se conecta a um gerenciador central o qual avisará ao turista o desembarque de sua mala na localidade.

Tanto o projeto como esta patente introduzem um elemento de rastreamento na forma de uma etiqueta afixada à entidade a ser rastreada. Ainda, ambos prevêem a comunicação com uma espécie de banco de dados central no sentido de obter e atualizar informações sobre o elemento quando este adentra a uma estação de controle. Porém, de forma divergente, a patente mencionada aqui prevê o uso de RFID e é destinada a aplicações de rastreamento de bagagens de turistas. Ainda, a patente se comunica diretamente com o detentor da bagagem assim que esta chega ao destino. De forma contrária, o projeto SIAER é desenhado no sentido de integrar o rastreamento para a empresa, não possuindo o objetivo de informar ao cliente a chegada da encomenda.

\end{itemize}

\subsection{Resultados}

Como resultados esperados deste projeto têm-se:

\begin{itemize}
\item 1 \textit{Sistema} de Rastreamento Integrado de Encomendas.
\item 1 \textit{Expansão} do número possível de ônibus conectados a um guiche.
\item 1 \textit{Protocolo} de comunicação sem fio que apresente criptografia.
\item 1 \textit{Firmware} para transmissão e recepção de dados entre ônibus e guichê.
\item 1 \textit{Expansão} do alcance da comunicação sem fio.
\item 1 \textit{Interface} com o usuário amigável.
\item 1 \textit{Software} para controle de encomendas no bagageiro do ônibus.
\item 1 Banco de dados com os relacionamentos necessários para o armazenamento das informações vinculadas ao código de barra.
\item Relatório das Disciplinas de Projeto Final 2. 
\item Redução de cerca de  70\% dos gastos gerados por indenizações pagas aos clientes devido ao extravio de encomendas.
\item Redução de cerca de 50\% no tempo de rastreamento de uma encomenda que possa ter sido extraviada.
\item Redução dos transtornos gerados entre empresas de ônibus e clientes, causados pelos extravios de encomendas.
\end{itemize}

O projeto em si será um sistema integrado de rastreamento, o qual através da integração do \textit{software} presente no \textit{netbook}, comunicação sem fio, banco de dados e leitor de código de barras, permite a redução dos problemas causados por extravios de encomendas. A redução de 50\% dos gastos por parte das empresas e de 70\% em relação ao tempo de rastreamento são meramente os requisitos estimados. Os parâmetros reais podem variar muito em relação àqueles, uma vez que não há como saber, exatamente, como o sistema irá impactar sobre tais fatores.


\section {Tecnologias de Banco de Dados}\label{sectionTecBancoDeDados}
A sociedade está em constante transformação, e por isso suas características são alteradas de maneira a se adaptar as diferentes tendências, e as novas formas de viver em sociedade encontradas pelo homem. A partir do século XX com o surgimento da expressão Globalização estamos vivendo em um mundo onde a tecnologia possibilitou a viabilidade e a facilidade da comunicação entre as pessoas. Esta mesma tecnologia veio à tona devido a importância que a informação adquiriu em nosso dia-a-dia, seja ela relacionada a lazer, a trabalho ou a troca de informações para gerar conhecimento. Esta nova sociedade que surgiu devido a tecnologia e que encarou a informação como sendo essencial para o convívio, recebeu um rótulo pela sua maneira de pensar, ficando conhecida como a Sociedade da Informação.

É dentro desta nova forma de pensar da sociedade que o homem sentiu a necessidade de realizar a manipulação, troca, controle e armazenamento dos mais diversos tipos de dados existentes, e devido a essa necessidade foi que os diferentes modelos de bancos de dados  foram desenvolvidos, tornando-se motivo de estudo e pesquisa por diversas empresas nos últimos anos.

Banco de dados ou base de dados é uma estrutura que possibilita o armazenamento de registros ou dados, para que tais informações salvas possam ser transformadas em informação posteriormente. Desde o início de sua concepção a teoria de banco de dados passou por diversas modificações e alguns modelos foram criados visando atender as necessidades encontradas pelo homem. Diferentes modelos de banco de dados foram sendo criados, existindo desde os modelos mais simples, que constituem uma coleção de tabelas, até modelos mais formais, definidos como modelo relacional. Dentre esses diferentes modelos existentes, pode-se destacar como principais os seguintes modelos:  Modelo Plano, Modelo Hierárquico, Modelo em Rede, Modelo Relacional e o mais atual e difundido Modelo Objeto-Relacional. 

Alinhados aos modelos de  banco de dados desenvolvidos encontramos ainda o \sigla{SGBD}{Sistema Gerenciador de Banco de Dados} - Sistema Gerenciador de Banco de Dados. Esses sistemas são desenvolvidos seguindo a metodologia de trabalho de um modelo de banco, tornando possível a implementação do modelo teórico no ambiente real. \cite{BancoDeDados2005} apresentaram a definição de que um Sistema Gerenciador de Base de Dados (SGBD) é uma coleção de programas que permitem aos usuários criarem e manipularem uma base de dados. Desta maneira SGBDs são aplicativos disponíveis no mercado e que reúnem um conjunto de ferramentas, as quais permitem ao usuário a transformação dos registros salvos no banco, em informações através da consulta, inserção, alteração e remoção de dados.

\subsection{Modelo Plano ou Tabular}
O Modelo de Banco de Dados Plano ou Tabular é o modelo mais simples entre os modelos mencionados na introdução da seção~\ref{sectionTecBancoDeDados}, mas possui conceitos fundamentais que foram mais tarde utilizados na concepção dos modelos de banco de dados mais atuais. A estrutura de armazenamento de dados do Modelo de Banco de Dados Plano consiste de uma única matriz bi-dimensional, sendo que cada coluna possui o mesmo tipo de dados, ou registros, e cada membro da linha estão associados entre si. Na concepção deste modelo ainda não foram definidas as características de relacionamento entre as entidades do banco, neste caso as matrizes. Os relacionamentos serão abordados primitivamente na seção~\ref{subsectionModeloRede}, através do apontadores, e definitivamente na seção~\ref{subsectionModeloRelacional} com a apresentação da estrutura do Banco de Dados Relacional. A estrutura do Modelo Plano funciona como a base dos aplicativos de planilhas eletrônicas, onde encontra-se grandes planilhas, constituindo uma matriz bi-dimensional, com diferentes tipos de dados em seus campos.

As planilhas eletrônica mencionadas no parágrafo acima, não são consideradas como SGBD, mas são as ferramentas que reúnem o grupo de componentes que viabilizam o trabalho sob o conceito de Modelo Plano. A figura~\ref{fig:Excel} fornece a imagem de uma aplicativo de planilha eletrônica bastante conhecida pelos usuários.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.7\textwidth]{./figs/Excel.jpg} % <- formatos PNG, JPG e PDF
	\caption[Planilha Eletrônica]{Planilhas Eletrônicas são um exemplo da aplicação do Modelo de Banco de Dados Plano ou Tabular.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:Excel}
\end{figure}

\subsection{Modelo Hierárquico}
Criado nos anos 60, o Modelo Hierárquico traz consigo a definição de uma base de dados orientada a registros. O fato que explica o entendimento deste modelo como orientado a registros é que qualquer acesso à base de dados, seja remoção, inserção, alteração ou consulta, deve ser realizada por um registro de cada vez. Como o próprio nome já diz, o Modelo Hierárquico segue uma hierarquia em sua estrutura de armazenamento de registros, sendo que os registros que precedem a outros são chamados de registros-pai e os registros sucessores de registros-filho. Dentro desta hierarquia cada nó da estrutura corresponde a um registro que possui uma coleção de campos, sendo que cada campo está preenchido com apenas um único dado.

No mercado o SGBD mais famoso disponível para o Modelo Hierárquico foi o \textit{Information Management System} da IBM.

A figura~\ref{fig:ModeloHierarquico} esboça um exemplo de banco concebido a partir do Modelo Hierárquico, sendo que as caixas representam as declarações de registros, e as linhas permitem a forma visual das ligações deste modelo, que parecem exibir uma estrutura de árvore. O exemplo apresentado na figura~\ref{fig:ModeloHierarquico} mostra um banco simples do RH de uma empresa, sendo que abaixo da estrutura das tabelas do RH encontramos um nível em que está presente o Nome, CPF, Rua e Cidade de um funcionário da empresa, e em um nível mais abaixo deste encontramos o número da Conta, Salário e Agência deste funcionário. Note que neste caso para que um funcionário possuísse duas contas, este deveria possuir um outro registro com seus dados pessoais, e só abaixo deste registro poderia ser registrada uma nova conta.


\begin{figure}[!htb]
	\centering
	\includegraphics[width=1.0\textwidth]{./figs/ModeloHierarquico.jpg} % <- formatos PNG, JPG e PDF
	\caption[Exemplo de Banco de Dados - Modelo Hierárquico]{Ilustração da estrutura de um banco segundo o Modelo Hierárquico.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:ModeloHierarquico}
\end{figure}

\subsection{Modelo em Rede}\label{subsectionModeloRede}
Outro modelo também orientado a registro é o modelo de estrutura de banco de dados em rede. Este modelo traz importantes conceitos da teoria de banco de dados, pois sua estruturação de banco assim como o modelo mierárquico, ao invés de se usar uma entidade como é o caso do modelo plano, que possui apenas uma matriz bi-dimensional, verificamos a existência de diversas entidades chamadas tabelas. O conceito básico de relacionamento entre as tabelas também está presente neste modelo, uma vez que as colunas ao invés de conterem dados contêm uma referência (apontadores ou ponteiros) entre a tabela proprietária e a membro, dando desta maneira o formato de rede ao modelo apresentado.

Dentre os modelos de SGBDs, disponíveis no mercado e que implementam o modelo de rede, o \sigla{DBTG}{\textit{Data Base Task Group}} - \textit{Data Base Task Group} -  da \sigla{CODASYL}{\textit{Committee on Data Systems and Languages}} - \textit{Committee on Data Systems and Languages} - e o \sigla{CAIDMS}{\textit{Computer Associates Integrated Data Management System}} - \textit{Computer Associates Integrated Data Management System} - da Computer Associates, foram os mais utilizados.

A figura~\ref{fig:ModeloEmRede} mostra o mesmo exemplo de banco da figura~\ref{fig:ModeloHierarquico}, mas agora criado segundo o modelo em rede. Nesta figura é possível perceber que os dados possuem apontadores entre si, o que viabiliza que um registro possua um apontamento com mais de um registro. Isto pode ser visto neste exemplo em que a funcionária Maria possui duas contas salário cadastradas.

\newpage
\begin{figure}[!htb]
	\centering
	\includegraphics[width=1.0\textwidth]{./figs/ModeloEmRede.jpg} % <- formatos PNG, JPG e PDF
	\caption[Exemplo de Banco de Dados - Modelo em Rede]{Ilustração da estrutura de um banco segundo o modelo em rede.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:ModeloEmRede}
\end{figure}

\subsection{Modelo Relacional}\label{subsectionModeloRelacional}
Basicamente o modelo relacional se apoia nos relacionamentos existentes entre as inúmeras tabelas que podem ser declaradas no banco. Dentro da nomenclatura existente na teoria de banco de dados relacional, as tabelas são os elementos principais que contêm as características que constituirão os relacionamentos e as regras do banco de dados como um todo. As tabelas são compostas basicamente de linhas e colunas, sendo que as linhas das tabelas contêm os registros (dados ou entidades) armazenados segundo uma regra de tipo e de relação. Já as colunas das tabelas são os atributos que estabelecem as regras de tipos de dados da tabela e de seus relacionamentos.

Outro elemento fundamental que está presente nas tabelas e que estão intrinsecamente vinculados aos relacionamentos impostos ao banco são as chaves. Cada tabela pode conter dois tipos de chave, a chave primária (\textit{Primary Key} - \sigla{PK}{Primary Key}) e a chave estrangeira (\textit{Foreign Key} - \sigla{FK}{Foreign Key}).

\begin{itemize}
	\item Chave primária - Poder ser constituída de uma ou mais colunas sendo que a sua composição é única na tabela. Em outras palavras, esta chave garante que um registro (linha) presente na tabela nunca será igual a outro, criando assim uma regra de inserção de dados nas tabelas do banco.
	\item Chave estrangeira - A chave estrangeira também pode ser formada através de uma ou mais colunas, assim como a chave primária, e seu conjunto também será único. No entanto, a chave estrangeira recebe esse nome por estar vinculada necessariamente a uma chave primária de outra tabela, permitindo assim o estabelecimento de um vínculo, ou relação entre uma tabela e outra.
\end{itemize}

É através da manipulação coerente das chaves primárias e estrangeiras que a regra do banco de dados criado é estabelecida, por isso estes elementos são peças fundamentais na fase de projeto de um banco de dados relacional, e devem ser criadas de acordo com a necessidade de uso do projetista.

O grande diferencial presente em um banco de dados que utiliza o modelo relacional está no fato de que a estrutura relacional utiliza-se da álgebra relacional e de cálculos relacionais, sobre as chaves das tabelas. A teoria de álgebra relacional utilizada envolve os conceitos básicos de união, intersecção, diferença, seleção, produto cartesiano, junção e divisão. A utilização dessas ferramentas viabilizam a flexibilidade presente no modelo relacional quando se deseja realizar as operações básicas de consulta, inserção, atualização e remoção de registros do banco.

A figura~\ref{fig:ModeloRelacional} apresenta uma estrutura simples da base de dados de uma empresa de ônibus que possui o serviço de encomendas enviadas através de seu itinerário. Cada caixa em cinza representa uma tabela, e cada campo desta tabela que possua uma chave à frente do nome representa a chave primária desta tabela. Repare-se que no caso da tabela Rota temos uma chave primária composta, ou seja, os registros formados pelo conjunto de colunas cd\_rota e cd\_ponto devem ser únicos dentro da tabela. Já as linhas que interligam as tabelas representam as relações que as chaves estrangeiras proporcionam dentro do banco.



\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.7\textwidth]{./figs/ModeloRelacional.jpg} % <- formatos PNG, JPG e PDF
	\caption[Exemplo de Banco de Dados - Modelo Relacional]{Exemplo de um banco de dados estruturado segundo o modelo relacional.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:ModeloRelacional}
\end{figure}


\subsection{Modelo Objeto-Relacional}\label{subsectionModeloObjetoRelacional}
A partir da necessidade de trabalhar com uma quantidade cada vez maior de dados nos dias de hoje, e de tornar possível a integração de diferentes aplicações a uma mesma base de dados, foi criada uma linguagem de programação que utiliza-se dos conceitos de álgebra relacional para tornar a forma de se trabalhar com o modelo relacional ainda mais flexível e universal, a linguagem criada foi o \sigla{SQL}{\textit{Structured Query Language}} - \textit{Structured Query Language}. O SQL foi criado exclusivamente para que o projetista da base de dados pudesse trabalhar com os dados cadastrados no banco de maneira personalizada, e ainda assim possibilitar o manuseio do banco de uma forma que muitas vezes não era esperada em sua fase de projeto.

Sendo assim, o modelo de estrutura de banco de dados objeto-relacional nada mais é do que o conceito da teoria do modelo relacional implementada em forma de linguagem, o SQL. A figura~\ref{fig:ModeloObjetoRelacional} mostra a composição deste modelo que está sendo utilizado em larga escala nas aplicações atuais. O nome objeto-relacional se deve ao fato de que a linguagem SQL é uma linguagem declarativa, ou seja, difere daquelas outras linguagens de banco de dados presentes em outros modelos que trabalhava de forma procedural.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.7\textwidth]{./figs/ModeloObjetoRelacional.jpg} % <- formatos PNG, JPG e PDF
	\caption[Banco de Dados - Modelo Objeto-Relacional]{Composição básica do modelo objeto-relacional.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:ModeloObjetoRelacional}
\end{figure}

Este é o modelo que vem sendo mais difundido desde os anos 80 e não é a toa que possui o maior número de SGBDs criados e disponíveis no mercado. Os principais SGBDs existentes e que atendem a teoria deste modelo são OpenOffice.org Base, Microsoft Access, Oracle, MySQL, Microsoft SQL Server, PostgreSQL, Sybase, OpenBase SQL, entre outros.

\subsection{Escolha do Modelo de Banco de Dados e do SGBD}\label{subsectionEscolhaBD}
A escolha do Modelo de Banco de Dados e do Sistema Gerenciado de Banco de Dados  foi concretizada através da análise do negócio que estamos atendendo neste projeto. O ambiente de trabalho de uma empresa de ônibus envolve em sua rede basicamente uma estação de guichê em cada cidade em que seus ônibus passam, seja esse guichê fisicamente presente dentro de uma rodoviária ou não. Cada guichê pode ainda possuir um ou mais computadores com acesso a base de dados principal da empresa via TCP/IP. Partindo desta visão é possível imaginar que o SGBD para uma empresa com essas características, deve suportar conexões multiusuários, pois a cada instante os atendentes de guichê (\textit{front end}) estarão alterando ou consultando registros presentes no banco de dados central da empresa e o SGBD do servido principal (\textit{back end}) deverá responder às requisições solicitadas.

Outra característica que o banco deveria possuir para atender nossas necessidades, além da parte de interação com o \textit{front end}, é a de flexibilidade de trabalho do próprio banco que deve suportar consultas personalizadas e com um bom desempenho de trabalho de forma que além de apresentar esta flexibilidade suporte um grande número de transações entre aplicação e base de dados. O número de transações no caso deste projeto se torna ainda maior, pois além do atendente de guichê realizar suas consultas de rotina no banco, cada ônibus que parar na plataforma da rodoviária, e estabelecer conexão com o software de guichê também iniciará uma série de consultas e manipulações de dados presentes no banco através das \textit{Stored Procedures} (ver seção~\ref{subsectionStoredProcedures}).

Foi a partir deste contexto de negócio que se pesquisou os diferentes modelos de banco de dados e os diferentes SGBDs disponíveis para cada modelo de banco de dados. Indiscutivelmente o modelo de banco de dados objeto-relacional é o mais difundido desde os anos 80, e foi ele que liderou as pesquisas de desenvolvimento mais recentes relacionadas a base de dados. Além disso, o suporte à linguagem SQL que permite a utilização otimizada e personalizada do banco criado. Os modelos relacionais presentes no mercado atendem a utilização por diversas aplicações, que neste caso é representada na situação de que uma empresa de transporte de pessoas que possui diversos guichês, realizando transações em tempo real e variável número de ônibus estabelecendo conexão com o terminal de guichê. Desta forma, o modelo de banco de dados utilizado neste projeto foi o modelo objeto-relacional.

A escolha do melhor SGBD para este projeto está totalmente vinculada ao modelo de banco de dados escolhido, uma vez que o SGBD implementa as características de um modelo de banco de dados e oferece uma interface com o usuário. Diversos são os SGBDs encontrados no mercado e que utilizam o modelo objeto-relacional em sua estrutura. No entanto, um estudo mais aprofundado a respeito das vantagens e desvantagens de cada SGBD não foi o foco deste trabalho e mereceria uma análise bastante trabalhosa, sendo digna de um trabalho de pesquisa à parte específico para este fim. Desta maneira, nossa escolha foi realizada através da pesquisa de mercado, levando em consideração principalmente a quantidade de empresas de ônibus que já trabalham com o modelo objeto-relacional e qual o SGBD mais utilizados em suas aplicações. Seguindo este padrão, o SGBD escolhido foi o Microsoft SQL Server 2008, que apesar de ser um sistema que demanda um investimento alto por parte da empresa, em se tratando de licenças, possui boas vantagens em relação a outros SGBDs, levando à justificativa de ser escolhido. Além de atender aos requisitos já mencionados, este SGBD é provido de um suporte bem estruturado fornecido pela Microsoft, e ainda garante altos desempenhos quando inserido em um ambiente de grandes e complexos sistemas, que trabalham com grande números de transações e manipulações de dados. A fácil integração com a plataforma do Sistema Operacional \textit{Windows} também foi uma boa vantagem deste SGBD em relação aos demais, uma vez que este Sistema Operacional está presente na grande maioria dos computadores de guichês.



\section {Linguagem de Programação}\label{sectionLingProg}

A realização deste projeto exigiu a elaboração de dois aplicativos de \textit{softwares} distintos. Um deles ficaria nas centrais de guichê, presente em cada uma das cidades que os ônibus das viações passam, e outro presente no \textit{netbook} do ônibus, para gerenciamento da situação das encomendas vinculadas ao veículo. Desta maneira o primeiro aplicativo, aquele que fica nos guichês, é evidentemente mais complexo por possuir diversas funções que o aplicativo do ônibus não necessita atender. Estas funções encontradas no guichê devem-se as diferentes tarefas que o guichê realiza, como acesso à base de dados central, interface com leitor de código de barras, interface com dispositivo \textit{wireless} para comunicação com o ônibus, \textit{timers} para verificação de tarefas, interface amigável com o usuário, entras especificações. Já no \textit{software} do ônibus, um aplicativo um pouco menos complexo, as dificuldades presentes, além da interface com um dispositivo \textit{wireless} como no guichê, acrescentam uma manipulação de arquivos XML para processamento dos dados refentes às encomendas que o ônibus possui fisicamente, e posterior aviso ao motorista da situação das mesmas.

O objetivo desta seção não é o de realizar um estudo profundo acerca das diferentes linguagens de programação disponíveis e que atendem às especificações do projeto, mas sim, justificar a utilização da linguagem de programação escolhida.

A linguagem de programação de alto nível escolhida para o desenvolvimento deste projeto foi a linguagem C\#.NET. Esta linguagem de programação foi utilizada tanto para desenvolver o \textit{software} do guichê quanto o do ônibus. O C\# é uma linguagem de programação recentemente criada pela Microsoft, e comercializada em meados do ano 2000, para se inserir no mercado de desenvolvimento de \textit{software} de maneira competitiva. C\# é uma linguagem orientada a objeto, de tipo seguro, simples, mas poderosa, que permite aos programadores criar uma variedade de aplicativos. Combinado com o .NET \textit{Framework}, [...] possibilita a criação de aplicativos para o Windows, Web services, ferramentas de bancos de dados, componentes, controles e mais \cite{VisualCSharpDeveloperCenter2010}. A linguagem de programação C\# surgiu junto ao advento proposto pela Microsoft da plataforma .NET. Também conhecida como \textit{dotNet Framework}, a plataforma .NET visa a interação de recursos entre diferentes linguagens de programação, sendo que qualquer dispositivo que possua um \textit{dotNet Framework} de versão correta instalado poderá executar os componentes disponíveis, independentemente da linguagem. Desta maneira, o desenvolvedor não compila seu programa para uma determinada linguagem, mas sim para a plataforma .NET. A plataforma .NET ainda roda sobre o CLR - \textit{Common Language Runtime} - que permite a universalização e integração das diferentes linguagens de programação por ele suportadas, pois a compilação de um código .NET segue um padrão chamado CLS - \textit{Common Language Specification}.

Esta contextualização inicial é importante para entender que o C\# é uma linguagem vinculada a uma empresa forte, e que esta linguagem possui um propósito de existência. A Microsoft divulgou que a linguagem C\# é seu carro chefe de trabalho na parte de desenvolvimento de aplicativos, e não é à toa que esta linguagem está presente na grande maioria das aplicações desenvolvidas no mercado atualmente por empresas do ramo de desenvolvimento de aplicativos \textit{desktops} e \textit{web}.

Além desta estrutura de existência, a parte fundamental que trouxe esta linguagem de programação para este projeto, foi a do C\#, junto aos recursos disponíveis no .NET, atender a todas as especificações de componentes de que se necessita neste projeto. Algumas dessas principais especificações podem ser resumidas, e apresentadas em forma de tópicos, como a seguir:

\begin{itemize}
	\item Acessos rápidos ao banco de dados para consulta, escrita, atualização e alteração de registros.
	\item Recursos .NET para manipulação de arquivos XML, visando a realização das mesmas ações desejadas em um banco de dados, mas agora trabalhando-se com arquivos.
	\item Comunicação com portas periféricas USB e serial, permitindo a criação de \textit{threads} para diferentes dispositivos, e suas utilizaçãoes ``ao mesmo tempo``.
	\item \textit{Timers} para geração de eventos, enquanto o aplicativo está sendo executados.
	\item Criação prática de interfaces com o usuário e que possuam \textit{design} agradável. 
\end{itemize}

Recursos importantes a serem levados em consideração ao se escolher uma linguagem de programação são os relacionados ao gerenciamento de memória. Existem duas ferramentas no C\#, indiscutivelmente importantes, para aplicativos mais complexos, que são o coletor de lixo - \textit{Garbage Collector} - e os destrutores - \textit{Destructors}. Estas duas ferramentas permitem o gerenciamento e a liberação de memória do dispositivo que está executando o aplicativo C\#. O coletor de lixo é executado de tempos em tempos para que ocorra a liberação de espaços de memória, alocados, e que não estão sendo mais utilizados pelo programa, isto aumenta a eficiência da utilização da memória. Já os destrutores são executados toda vez que algum objeto deixa de existir, realizando todo o trabalho de limpeza dos registros anteriormente utilizados por este.

Portanto, verifica-se que a linguagem de programação escolhida para o desenvolvimento deste projeto atende a todos os requisitos necessários para viabilizar a elaboração do sistema de encomendas proposto. O paradigma de orientação a objetos, a facilidade de interação e de programação no ambiente de desenvolvimento e os recursos disponíveis pelo conceito da plataforma .NET também levaram à conclusão de que é uma linguagem atual, e que o mercado está recebendo muito bem, devido ao grande número de aplicativos já existentes, utilizando esta linguagem. 

	
\section {Sistemas de Identificação}\label{section:sistident}
Uma decisão de grande importância no processo de projeto do sistema foi a escolha da tecnologia de identificação e etiquetagem das encomendas que serão enviadas através dos ônibus. Os códigos dos sistemas de identificação podem ser comparados à impressão digital do ser humano pois, assim como a impressão digital, os dispositivos identificadores fornecem informações únicas que diferem um dispositivo dos demais. Existe um número significativo de tecnologias que desempenham esse papel de identificação, sendo que cada tecnologia possui suas especialidades, vantagens e desvantagens. Entre os sistemas de identificação pesquisados, três fizeram-se relevantes no momento de decisão sobre qual sistema utilizar, durante a fase de elaboração do projeto, são eles: Código de Barras, RFID e QR-Code.

Todos os sistemas de identificação possuem a mesma finalidade, ou seja, ao final da leitura realizada pelo sistema de aquisição, temos um valor identificador e este valor identificador deverá ser usado para acessar uma base de dados, para que mais informações a respeito do sistema etiquetado sejam adquiridas. Todos estes sistemas compartilham ainda das mesmas aplicações podendo serem utilizados nas mais diversas situações como em hospitais, residências, produtos, marcação de animais, segurança de prédios, etc. A figura~\ref{fig:FluxoGramaBarcode} esboça o esquema simples do fluxo de acontecimentos a partir da interpretação de leitura de um código de barras. O esquema da figura~\ref{fig:FluxoGramaBarcode} se dá para um código de barras, mas o propósito dos demais sistemas de identificação são os mesmos.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.8\textwidth]{./figs/FluxogramaBarcode.jpg}
	\caption[Eventos a partir de um código identificador]{Fluxo de acontecimentos a partir da interpretação de um código identificador.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:FluxoGramaBarcode}
\end{figure}

\subsection{Código de Barras}\label{subsectionCodigoDeBarras}
O código de barras pode ser entendido como o sistema de codificação mais antigo presente no mercado, com a função de automação de serviços que antes possuíam grande intervenção humana. A primeira utilização oficial do código de barras em um ambiente real foi em 1974 quando um cliente do supermercado Marsh´s, em Ohio EUA, fez a compra de um chiclete utilizando este sistema \cite{HistoriaBarcode}. De lá pra cá o sistema de codificação de código de barras foi ganhando espaço no mercado e conquistou praticamente o mundo todo quando o assunto é identificação de mercadorias e produtos.

O código de barras é representado por barras verticais de larguras variáveis, geralmente impressos por impressoras térmicas em etiquetas, ou em rótulo de produtos que são autorizados a utilizarem este sistema. As barras do código de barras possuem a cor preta e fundo branco, isto se deve ao método de aquisição que os leitores de código de barras utilizam para realizar a leitura da etiqueta, a reflexão óptica. Desta maneira, o leitor de código de barras, quando acionado, incide um feixe de laser na cor vermelha que percorre todas as barras, sendo que as linhas em preto absorvem o feixe do laser incidente, enquanto que o fundo branco da etiqueta reflete o feixe, fornecendo assim as informações necessárias para que o leitor possa detectar qual o código de identificação presente no rótulo lido. A figura~\ref{fig:BarcodeEAN13Example} mostra o exemplo de uma etiqueta de código de barras gerada a partir do protocolo EAN-13. A identificação desta etiqueta poder ser realizada por qualquer leitor capaz de compreender tal protocolo.
	

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.3\textwidth]{./figs/BarcodeEAN13Example.jpg} % <- formatos PNG, JPG e PDF
	\caption[Imagem de um código de Barras]{Exemplo de uma etiqueta código de barras que utiliza o protocolo EAN-13, com a identificação 1234123412344.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:BarcodeEAN13Example}
\end{figure}

Por mais que as barras vistas nos códigos de barras sejam semelhantes, estas seguem um protocolo de especificação que dita a largura das barras claras e escuras. Sendo assim o número ``1234`` pode ser expresso de diferentes formas em relação à disposição das barras, dependendo do protocolo ou tipo de codificação utilizado.

Existe um grande número de protocolos de codificação relacionado a código de barras, sendo que cada um contém suas características particulares de geração e interpretação dos códigos alfa-numéricos apresentados pelas barras. Os tipos de codificação mais conhecidos são EAN, UPC, Códigos 3 a 9, \textit{Matrix} 25, CODABAR, \textit{Interleave} entre outros, sendo que cada tipo de protocolo foi criado de maneira a atender a necessidade um segmento de mercado, de acordo com as informações que se deseja identificar no código.

Os diferentes leitores disponíveis no mercado não são habilitados para interpretar qualquer tipo de codificação, estes devem ser configurados pelo fabricante para que atendam ou não a determinados tipos de especificação de protocolo. Os leitores de código de barras podem ser fixos e de mão, e seus preços no varejo variam de acordo com a qualidade do feixe de laser, distância de leitura, ângulos de leituras e demais especificações. A figura~\ref{fig:LeitorDeCodigoDeBarrasGenerico} apresenta a imagem de um leitor de mão, que pode facilmente ser encontrado em supermercados, lojas, fábricas, hospitais e em outros diversos locais onde se encontre aplicação de código de barras.


\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.2\textwidth]{./figs/LeitorDeCodigoDeBarrasGenerico.jpg} % <- formatos PNG, JPG e PDF
	\caption[Leitor de Código de Barras]{Imagem de um leitor de código de barras}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:LeitorDeCodigoDeBarrasGenerico}
\end{figure}

Por ser um sistema de identificação já bem consolidado, o código de barras possui órgãos responsáveis pela certificação e liberação de identificadores para as empresas interessadas. Em âmbito mundial encontramos a \sigla{EAN}{\textit{Europe Article Numbering}} - \textit{Europe Article Numbering}, responsável pela certificação da maioria das codificações de códigos de barras e a UCC - \textit{Uniform Code Concil}, responsável pelas identificações liberadas no Canadá e nos Estados Unidos. Os acontecimentos mais importantes que ocorreram no Brasil relativamente ao uso de código de barras tiveram início em 1983 através da criação da ABAC - Associação Brasileira de Automação Comercial, depois com o Decreto 90.595, de 29 de novembro de 1984 e da Portaria 143 do Ministério da Indústria e Comércio, que conferiu à ABAC a responsabilidade de orientar e administrar a implantação do Código Nacional de Produtos no país. Para viabilizar esta legislação era necessária a adoção de um padrão comercial internacional de código de barras, e este padrão adotado foi o EAN Internacional, regulamentado pela EAN. O Brasil foi o 26º país filiado, recebendo a identificação 789, em maio de 1985. A antiga ABAC virou a EAN Brasil em 1994 e em 1996 passou a se chamar GS1 Brasil, que é o órgão responsável pela certificação de código de barras atualmente no país.

\subsection{RFID}
O RFID (\textit{Radio Frequency Identification} - Identificação por rádio freqüência) também é um sistema de identificação bastante antigo, e foi criado com o mesmo propósito dos demais sistemas de identificação, que é proporcionar um código exclusivo para alguma entidade de maneira a tornar possível sua identificação. Os RFIDs funcionam através de \textit{tags} ou etiquetas RFID, que armazenam os dados de identificação.

Uma \textit{tag} de RFID  é composta da combinação de um \textit{microchip} e uma antena, em um encapsulamento de \textit{design} compacto. Esta característica compacta do RFID foi desenvolvida para que se pudesse anexar os dispositivos em locais, ou objetos, de maneira fácil e prática. As \textit{tags} de RFID podem ser de três tipos: \textit{tags} passivas, \textit{tags} semi-passivas e \textit{tags} ativas. A diferença entre as \textit{tags} existentes está no seu princípio de funcionamento, pois as \textit{tags} com denominação passiva reconhecem o sinal enviado pelo leitor ou scanner RFID e então retornam o sinal somado com o dado identificador daquela \textit{tag}. Já as \textit{tags} com denominação ativa possuem uma fonte de alimentação própria e podem enviar seu identificador ao leitor sem a necessidade de excitação por um sinal externo. Por causa desta característica a mais, as \textit{tags} ativas são mais caras que as \textit{tags} passivas.

A figura~\ref{fig:RFID_Tag} apresenta a imagem de uma tag de RFID, que se assemelha às antena utilizada em circuitos impressos.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.2\textwidth]{./figs/RFID_Tag.jpg} % <- formatos PNG, JPG e PDF
	\caption[\textit{Tag} de RFID]{Imagem de uma tag de RFID}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:RFID_Tag}
\end{figure}


\subsection{QR-Code}

O \sigla{QR-Code}{\textit{Quick Response Code}} (\textit{Quick Response Code} - Código de resposta rápida) surgiu em 1994 e foi desenvolvido pela empresa japonesa Denso-Wave. Inicialmente sua principal aplicação deu-se na indústria automotiva, onde as empresas montadoras de carros etiquetavam as diferentes partes do carro com um adesivo que continha um QR-Code.

	No Brasil o QR-Code foi utilizado pela primeira vez pela empresa Fast, e de lá pra cá o uso desta tecnologia vem aumentando cada vez mais, quando se deseja identificar produtos.
	
	O QR-Code possui patente desde 2000, mas foi disponibilizado internacionalmente em Janeiro de 1999 sob o padrão japonês JIS X 0510, seguindo o regulamento internacional ISO/IEC 18004. Embora este tipo de identificação tenha sua patente assegurada pela Denso-Wave, sua empresa criadora fez questão de não utilizar de seus direitos sobre este código de identificação, deixando livre o uso para qualquer um interessado. Esta é uma das grandes vantagens que este método de identificação oferece, mas por não ser um sistema que possui uma entidade internacional regulamentadora, possui a desvantagem de que um produto pode possuir uma identificação que não seja única.
	
	O QR-Code é constituído de uma matriz bi-dimensional que pode possuir tamanho variado, mas que deve seu nome, \textit{Quick Response}, por ser um método rápido, que também apresenta leitura de fácil acesso ao usuário. Este fácil acesso é decorrente de que o código pode ser interpretado mesmo que a impressão esteja em baixa resolução, sendo possível a leitura, inclusive, por câmeras de celulares e de computadores.
	
	A figura~\ref{fig:QRCODE_SIAER} ilustra a imagem de um código impresso do tipo QR-Code que ao ser lido identificará o texto ``SIAER``.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.2\textwidth]{./figs/QRCODE_SIAER.png} % <- formatos PNG, JPG e PDF
	\caption[Imagem de uma etiqueta QR-Code]{QR-Code contendo o texto ``SIAER`` codificado.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:QRCODE_SIAER}
\end{figure}

O QR-Code possui uma capacidade de armazenamento de dados relevante. O números referentes a esta capacidade são \cite{QRCodeCap}:

\begin{itemize}
	\item Numérica - Max. 7.089 caracteres.
	\item Alfanumérica - Max. 4.296 caracteres.
	\item Binário (8 bits) - Max. 2.953 bytes.
	\item Kanji/Kana - Max. 1.817 caracteres.
\end{itemize}

\subsection {Escolha do Sistema de Identificação}\label{subsectionEscolhaSistIdentif}

Através da pesquisa realizada acerca das diferentes tecnologias encontradas no ramo de identificação, percebe-se que cada um dos sistemas estudados possuem suas vantagens quando submetidos a um determinado cenário de uso. Visando atender as necessidades encontradas no ambiente de trabalho de empresas de ônibus, alguns critérios foram impostos para a escolha do sistema que atendesse a essas especificações. Os principais critérios escolhidos foram:

\begin{itemize}
	\item Baixo custo do leitor.
	\item Baixo custo na geração dos identificadores.
	\item Possuir órgão regulamentador do sistema de identificação.
	\item Disponibilidade de acesso à documentação das especificações exigidas.
	\item Precedência de uso no mercado brasileiro.
	\item Leitor de fácil manuseio por parte do usuário.
\end{itemize}

Definidos os critérios apresentados acima, é possível comparar as diferentes tecnologias pesquisadas e chegar a uma escolha final. No caso do RFID, este ainda apresenta uma tecnologia bastante cara em relação ao leitor e um alto custo principalmente na geração dos dispositivos identificadores, que inviabilizam o seu uso, neste caso, uma vez que o volume de encomendas a serem enviadas diariamente através dos ônibus será alto. Quanto ao QR-Code, por mais que seja um sistema de baixo custo na geração de identificadores, este ainda possui leitores de alto custo, uma vez que exige uma câmera de vídeo para que sua identificação seja possível, além de que não possui um órgão que controle os números de identificação criados.

Desta forma, o sistema de codificação escolhido para o desenvolvimento do Sistema Integrado de Encomendas Rodoviárias proposto neste trabalho foi a codificação através do código de barras. Este sistema atende a maioria dos requisitos exigidos além de ser bastante utilizado mundialmente. As principais vantagens encontradas foram o baixo custo na geração das etiquetas identificadoras e a presença de um órgão brasileiro responsável pela liberação de identificação no país.

Uma vez definido o sistema de codificação como sendo o de código de barras, é necessária a escolha de um padrão de protocolo a ser utilizado no projeto. O padrão escolhido foi o EAN-13, um protocolo que permite o uso de 12 caracteres de identificação mais um último caractere de verificação de autenticidade do identificador interpretado pelo leitor. Este padrão EAN-13, já está no mercado há anos, e inclusive no Brasil possui milhares de empresas afiliadas cadastradas no GS1 Brasil, órgão responsável pelo controle deste padrão no país. A grande disponibilidade de documentação a respeito deste protocolo também é um fator de peso na sua escolha. A explicação do protocolo e do funcionamento do EAN-13 neste projeto pode ser encontrada na seção~\ref{codigodebarras:protocolo} do capítulo~\ref{chap:desenvolvimento}.


\subsection {Escolha do Leitor de Código de Barras}\label{subsectionEscolhaLeitorBarras}

Uma última etapa importante, ainda em relação ao sistema de identificação utilizado no projeto, foi a escolha do leitor de código de barras. Para que o sistema a ser desenvolvimento funcione de maneira desejável, não se faz necessário que leitor a ser utilizado possua as melhores especificações entre os leitores encontrados no mercado. Desta maneira, o baixo custo desejável no mercado é atendido em primeira instância. No entanto outro fator, além do requisito de identificação da codificação EAN-13, deve ser levado em consideração, que é o tipo de protocolo de comunicação presente no leitor. Este último item é importante porque a aplicação do guichê deverá, necessariamente, se comunicar com o leitor e receber os números de identificação das encomendas. Sendo assim, procurando atender requisitos de praticidade e também baixo custo, notou-se que leitores de código de barras que possuem interface de comunicação RS-232 apresentam-se como os dispositivos mais baratos do mercado.

O leitor de código de barras escolhido para este projeto foi o BR-310 fabricado pela empresa Bematech. A empresa Bematech fornece diversas soluções para a automação de processos industriais além de fornecer consultoria para empresas que prestam serviços na área de eletrônica. O leitor BR-310 é um dos leitores mais simples produzidos por esta empresa, mas que mesmo assim possui funcionalidades além daquelas requeridas para o sistema de rastreamento deste projeto.

Em relação à interface de comunicação do BR-310, este é fabricado visando atender a maioria das interfaces de comunicação fornecidas pelos periféricos de PC's. Dentro desta gama de protocolos, o BR-310 pode ser encontrado no mercado configurado para as comunicações PS2, RS-232 e USB, entre outras. Lembrando que cada interface possui um preço diferenciado, variando de acordo com a tecnologia empregada. Entre estes protocolos, como já mencionado no primeiro parágrafo, preferiu-se trabalhar com o protocolo RS-232, por esta tecnologia viabilizar, além do preço, ainda a conexão do leitor com uma porta serial de um microcontrolador, ou instalado numa interface serial de um computador.


\section {Transporte e Armazenamento de Dados}\label{section:transparm}

O desenvolvimento das ferramentas computacionais, que se deram a partir da década de 60, tornaram-se essenciais para a vida das pessoas e de qualquer empresa nos dias de hoje. O crescimento da tecnologia de informação, mais recente, trouxe consigo uma explosão de aplicativos que executam as mais variadas tarefas, visando facilitar a vida de seus usuários. No mundo corporativo, já não é mais possível viver sem que haja a automação dos trabalhos a serem executados. Esta automação do trabalho viabilizou o surgimento de um grande número de empresas especializadas em prestação de serviços personalizados para o desenvolvimento de aplicativos exclusivos, seguindo as necessidades do cliente. Dentro deste panorama, não é difícil enxergar que deve existir um número imenso de dados a serem salvos e a serem transacionados entre as inúmeras aplicações desenvolvidas. Trazendo este contexto para o tema principal deste projeto, que são as empresas de ônibus, sabe-se que as mesmas estão quase que 100\% automatizada em suas tarefas, e devido ao grande número de clientes atendidos diariamente, maior ainda são os números de transações de dados entre as diversas ferramentas de automação desta empresa. Visando atender a estas situações de negócios, onde diversas aplicações devem interagir entre si, e dados a serem salvos de forma fácil, é que algumas ferramentas de transporte e armazenamento de dados foram desenvolvidas. Para o projeto deste trabalho três foram as tecnologias pesquisas e comparadas, para posterior escolha de uso. As ferramentas pesquisadas foram o XML - \textit{eXtensible Markup Language}, arquivos de texto (.txt), banco de dados objeto-relacional.


\subsection{Arquivos de Texto}\label{subsectionArquivosDeTexto}

Arquivos de texto são arquivos de computadores que podem ser criados seguindo uma estrutura em que o seu conteúdo segue uma sequência de linhas. O final de cada arquivo de texto possui algum tipo de marcação indicando o fim do mesmo, sendo que esta marcação pode ser denotada por um ou mais caracteres especiais.

Devido à simplicidade dos arquivos textos, eles geralmente são utilizados para o armazenamento de informação. Uma vantagem destes tipos de arquivos é que se um arquivo está corrompido é fácil a detecção do problema e recuperação da informação para posterior processamento.

Como os aplicativos deste projeto foram desenvolvidos sobre uma plataforma Windows, a pesquisa realizada deu-se apenas a um ramo dos arquivos .txt, que são os arquivos padronizados para a plataforma Windows.

Arquivos .txt utilizados no Sistema Operacional Windows não possuem formatação em seu conteúdo, ou seja, são desprovidos de formatação em itálico, negrito ou sublinhado. No caso destes arquivos, cada final de linha corresponde a uma combinação\sigla{CR}{\textit{Carriage Return}} e\sigla{LF}{\textit{Linefeed}}, com significado de retorno ao início da linha (\textit{Carriage Return}) e criação de uma nova linha (\textit{Linefeed}). No entanto, este padrão de interpretação de final de linha fica transparente ao usuário que não tem contato com tal sintaxe.

A partir destas características presentes nos arquivos .txt, as diferentes linguagens de programação, alto nível existentes provêm suporte para criação, escrita, alteração e leitura destes arquivos. Sendo assim, a combinação de algoritmos e dos métodos de trabalho fornecidos pelas linguagens de programação de \textit{software}, podem fornecer ao desenvolvedor boas ferramentas para armazenamento de informações em arquivos .txt e posterior leitura ou alteração, para processamento dos dados. 


\subsection{XML}\label{subsectionXML}

Desenvolvido em meados de 1990 pelo \textit{World Wide Web Consortium} (W3C), o arquivo \sigla{XML}{\textit{eXtensible Markup Language}} - \textit{eXtensible Markup Language} - tem o objetivo de facilitar o trabalho de armazenamento e troca de dados entre diferentes aplicações, desenvolvidas em diferentes liguagens e plataformas. Os criadores do XML seguiram a diretriz de que o novo formato de arquivo devesse atender a mesma simplicidade que arquivos HTML -  \textit{HyperText Markup Language} - atendem em sua estrutura. Devido a esse critério, o XML possui à primeira vista um formato muito parecido com o HTML, mas no entanto as duas tecnologias possuem finalidades de trabalhos distintas, sendo que o HTML possui seu foco na apresentação de dados em um \textit{browser}, enquanto o XML foi concebido com intuito de auxiliar no transporte e armazenamento de dados. A figura~\ref{fig:Xml} apresenta um exemplo simples de um arquivo .xml que contém dados de livros vendidos em uma livraria.

\newpage
\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.4\textwidth]{./figs/Xml.jpg} % <- formatos PNG, JPG e PDF
	\caption[Exemplo de um arquivo Xml]{Xml simples de uma Livraria.}
	%\fonte{\cite{abnTeX2009}}
	\label{fig:Xml}
\end{figure}

A estruturação interna de programação dos arquivos .xml, é organizada de forma hierárquica. Como se pode ver na figura~\ref{fig:Xml} o elemento raiz - \textit{root element} - do arquivo é a livraria, e abaixo dela encontram-se os livros cadastrados, que são os elementos filhos \textit{child elements}, sendo que a marcação ``categoria`` representa o atributo de cada livro.

A grande confusão que pode ser gerada quanto ao XML é ele não possui \textit{tags} pré-definidas, ou seja, o XML é um arquivo totalmente genérico e não existe palavras reservadas como é o caso do HTML que possui as \textit{tags} <table></table> indicando construção de tabela ou <p></p> indicando um novo parágrafo. Este ponto de generalidade que o XML é o diferencial deste tipo de arquivo, pois arquivos .xml podem ser criados de acordo com os requisitos desejados pelo projetista.

 
\subsection{Banco de Dados Objeto-Relacional}\label{subsectionBanco}

Os tópicos inerentes a estrutura de um modelo de bancos de dados relacional e objeto-relacional, já foram apresentados nas sub-seções~\ref{subsectionModeloRelacional} e~\ref{subsectionModeloObjetoRelacional}, respectivamente, da seção~\ref{sectionTecBancoDeDados} do capítulo~\ref{chap:desenv}.


\subsection{Escolha da Tecnologia de Transporte e Armazenamento de Dados}

Dentro do âmbito do serviço proposto neste projeto, existiu uma questão importante a ser resolvida em se tratando dos dados de encomendas salvas pelo aplicativo presente no ônibus. Através dos resultados obtidos pelas pesquisas apresentadas nas seções~\ref{subsectionArquivosDeTexto},~\ref{subsectionXML} e~\ref{subsectionBanco} foi possível realizar um comparativo entre as diferentes tecnologias e escolher aquela que melhor atendia os recursos do projeto. 

Em primeira instância pensou-se que um banco de dados do tipo objeto-relacional poderia ser configurado em cada ônibus, e que desta maneira poderia se obter maior segurança nas transações de dados. No entanto, a finalidade do Modelo Objeto-Relacional não é esta, em sua essência de criação, pois este tipo de estrutura de armazenamento de dados foi gerado a fim de atender as transações de diversas aplicações acessando uma mesma base de dados, o que não aconteceria neste trabalho, pois a base de dados ficaria presa a um única ônibus. Além desta desvantagem, a implementação de uma metodologia como essa acarretaria em alto custo de licença de \textit{softwares}, sem falar que as configurações do \textit{netbook} do ônibus não suportariam tais aplicativos.

Desta forma a análise agora ficou entre criação de arquivos XML e de arquivos texto (.txt). Realizando uma comparação entre estas duas estruturas, optou-se por utilizar arquivos XML como fonte de armazenamento e captura de dados presentes no ônibus. Os arquivos textos apesar de fornecerem as facilidades de manipulação de informações, já apresentadas na seção~\ref{subsectionArquivosDeTexto}, gerariam um trabalho muito grande no desenvolvimento de algoritmos para atender as especificações deste projeto. No entanto, arquivos XML já foram criados sob a concepção de hierarquia, provendo maior facilidade de trabalho do que arquivos texto. Como apresentado na seção~\ref{sectionLingProg} a linguagem de programação utilizada, tanto para o \textit{software} do ônibus quanto para o \textit{software} do guichê é a linguagem C\#, e a utilização desta linguagem só veio por fortalecer a escolha por arquivos XML, pois esta linguagem é voltada à flexibilidade de desenvolvimento de novos aplicativos, possuindo desta maneira ferramentas úteis que auxiliam no trabalho com arquivos XML.

